(()=>{const e=e=>String(e??"").replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#039;"),t=e=>String(e||"").toLowerCase().split("-")[0].trim(),n=e=>String(e||"").toLowerCase().trim(),a=(e,t)=>{if(!t||"object"!=typeof t)return e;for(const n of Object.keys(t)){const o=t[n];o&&"object"==typeof o&&!Array.isArray(o)?e[n]=a({...e[n]||{}},o):e[n]=o}return e},o=()=>Math.random().toString(16).slice(2)+Date.now().toString(16),r={success:'\n      <svg viewBox="0 0 24 24" class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">\n        <path d="M5 13l4 4L19 7"/>\n      </svg>\n    ',info:'\n      <svg viewBox="0 0 24 24" class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">\n        <circle cx="12" cy="12" r="10"/>\n        <line x1="12" y1="16" x2="12" y2="12"/>\n        <line x1="12" y1="8" x2="12.01" y2="8"/>\n      </svg>\n    ',warning:'\n      <svg viewBox="0 0 24 24" class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">\n        <path d="M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"/>\n        <line x1="12" y1="9" x2="12" y2="13"/>\n        <line x1="12" y1="17" x2="12.01" y2="17"/>\n      </svg>\n    ',error:'\n      <svg viewBox="0 0 24 24" class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">\n        <circle cx="12" cy="12" r="10"/>\n        <line x1="15" y1="9" x2="9" y2="15"/>\n        <line x1="9" y1="9" x2="15" y2="15"/>\n      </svg>\n    ',close:'\n      <svg viewBox="0 0 24 24" class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">\n        <line x1="18" y1="6" x2="6" y2="18"/>\n        <line x1="6" y1="6" x2="18" y2="18"/>\n      </svg>\n    ',check:'\n      <svg viewBox="0 0 24 24" class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">\n        <path d="M5 13l4 4L19 7"/>\n      </svg>\n    '},s={position:"top-right",duration:4200,maxToasts:5,newestOnTop:!0,closeOnClick:!0,pauseOnHover:!0,showProgress:!0,preventDuplicates:!0,duplicateWindowMs:1200,storage:{type:"local",key:"site_lang"},lang:"auto",fallbackLang:"en",themeStorage:{type:"local",key:"site_theme"},theme:"auto",i18n:{hu:{"title.success":"Siker","title.info":"Infó","title.warning":"Figyelmeztetés","title.error":"Hiba","action.default":"Megnyitás","close.aria":"Bezárás","dialog.ok":"OK","dialog.cancel":"Mégse","dialog.yes":"Igen","dialog.no":"Nem","prompt.placeholder":""},en:{"title.success":"Success","title.info":"Info","title.warning":"Warning","title.error":"Error","action.default":"Open","close.aria":"Close","dialog.ok":"OK","dialog.cancel":"Cancel","dialog.yes":"Yes","dialog.no":"No","prompt.placeholder":""}},positions:{"top-right":"top-4 right-4 items-end","top-left":"top-4 left-4 items-start","bottom-right":"bottom-4 right-4 items-end","bottom-left":"bottom-4 left-4 items-start","top-center":"top-4 left-1/2 -translate-x-1/2 items-center","bottom-center":"bottom-4 left-1/2 -translate-x-1/2 items-center"},classes:{wrapBase:"fixed z-[9999] flex flex-col gap-3 pointer-events-none",toastBase:["pointer-events-auto w-[min(420px,calc(100vw-2rem))]","rounded-2xl border shadow-2xl overflow-hidden","bg-white/95 backdrop-blur dark:bg-dark-800/95","border-gray-200 dark:border-dark-700","opacity-0 translate-y-2 transition-all duration-200 ease-out","ring-1"].join(" "),modalWrap:"fixed inset-0 z-[10000] flex items-center justify-center p-4",modalBackdrop:"absolute inset-0 bg-black/60",modalCard:["relative pointer-events-auto w-full max-w-lg","rounded-2xl border shadow-2xl overflow-hidden","bg-white dark:bg-dark-800","border-gray-200 dark:border-dark-700"].join(" "),modalHeader:"p-4 border-b border-gray-200 dark:border-dark-700 bg-gray-50 dark:bg-dark-800/50",modalBody:"p-4",modalTitle:"font-extrabold text-gray-900 dark:text-white",modalText:"mt-1 text-sm text-gray-600 dark:text-gray-300",modalFooter:"p-4 pt-0 flex flex-wrap justify-end gap-2",body:"p-4",row:"flex items-start gap-3",iconBoxBase:"w-10 h-10 rounded-xl border flex items-center justify-center",content:"min-w-0 flex-1",title:"font-extrabold text-sm text-gray-900 dark:text-white leading-5",message:"mt-0.5 text-sm text-gray-600 dark:text-gray-300 leading-5 break-words",closeBtn:"w-9 h-9 rounded-xl grid place-items-center text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white bg-gray-100/0 hover:bg-gray-100 dark:hover:bg-dark-700 transition-colors",btnBase:"inline-flex items-center gap-2 px-3 py-1.5 rounded-xl border text-xs font-extrabold transition-colors",btn:{neutral:"bg-gray-100 hover:bg-gray-200 dark:bg-dark-700 dark:hover:bg-dark-600 border-gray-200 dark:border-dark-700 text-gray-800 dark:text-gray-100",outline:"bg-transparent hover:bg-gray-100 dark:hover:bg-dark-700 border-gray-200 dark:border-dark-700 text-gray-800 dark:text-gray-100",info:"bg-blurple-500 hover:bg-blurple-600 border-blurple-500/30 text-white",success:"bg-emerald-500 hover:bg-emerald-600 border-emerald-500/30 text-white",warning:"bg-yellow-500 hover:bg-yellow-600 border-yellow-500/30 text-white",danger:"bg-red-500 hover:bg-red-600 border-red-500/30 text-white"},progressTrack:"h-1 bg-gray-200 dark:bg-dark-700",progressBarBase:"h-full w-full origin-left",in:"opacity-100 translate-y-0",out:"opacity-0 translate-y-2"},types:{success:{iconHtml:r.success,iconBox:"bg-emerald-500/10 border-emerald-500/20 text-emerald-500",ring:"ring-emerald-500/20",progress:"bg-emerald-500",titleKey:"title.success"},info:{iconHtml:r.info,iconBox:"bg-blurple-500/10 border-blurple-500/20 text-blurple-500",ring:"ring-blurple-500/20",progress:"bg-blurple-500",titleKey:"title.info"},warning:{iconHtml:r.warning,iconBox:"bg-yellow-500/10 border-yellow-500/20 text-yellow-500",ring:"ring-yellow-500/20",progress:"bg-yellow-500",titleKey:"title.warning"},error:{iconHtml:r.error,iconBox:"bg-red-500/10 border-red-500/20 text-red-500",ring:"ring-red-500/20",progress:"bg-red-500",titleKey:"title.error"}},template:null,hooks:{onShow:null,onClose:null,onClick:null,onAction:null}};function l(e){const t=(e.storage?.type||"local").toLowerCase();return"session"===t?window.sessionStorage:"local"===t?window.localStorage:null}function i(e){if(e.lang&&"auto"!==e.lang)return t(e.lang);const n=l(e),a=e.storage?.key||"site_lang",o=n?n.getItem(a):null;if(o)return t(o);const r=document.documentElement?.getAttribute("lang");return t(r||(navigator.language||e.fallbackLang||"en"))}function c(e){const t=(e.themeStorage?.type||"local").toLowerCase();return"session"===t?window.sessionStorage:"local"===t?window.localStorage:null}function d(e){if(e.theme&&"auto"!==e.theme)return n(e.theme);const t=c(e),a=e.themeStorage?.key||"site_theme",o=t?t.getItem(a):null;return o?n(o):window.matchMedia?.("(prefers-color-scheme: dark)")?.matches?"dark":"light"}function u(e){const t=d(e),n=document.documentElement;return n?("dark"===t?n.classList.add("dark"):n.classList.remove("dark"),t):t}function g(e,t,n=null){const a=i(e);let o=(e.i18n?.[a]||e.i18n?.[e.fallbackLang]||{})[t]??e.i18n?.[e.fallbackLang]?.[t]??t;if(n&&"object"==typeof n)for(const[e,t]of Object.entries(n))o=o.replaceAll(`{${e}}`,String(t));return o}function p(e,t){const n=e.positions?.[t]||e.positions?.["top-right"]||"",a=`ftw-${t}`;let o=document.querySelector(`[data-ftwrap="${a}"]`);return o?o.className=`${e.classes.wrapBase} ${n}`:(o=document.createElement("div"),o.dataset.ftwrap=a,o.className=`${e.classes.wrapBase} ${n}`,document.body.appendChild(o)),o}let m="function"==typeof structuredClone?structuredClone(s):JSON.parse(JSON.stringify(s));u(m);const y=window.matchMedia?.("(prefers-color-scheme: dark)");y?.addEventListener&&y.addEventListener("change",(()=>{const e=c(m),t=m.themeStorage?.key||"site_theme",n=!(!e||!e.getItem(t));"auto"!==(m.theme||"auto")||n||u(m)}));let f=null,b=0;function k(t,n,s={}){u(m);const l=a(a({},m),s),i=a(a({},l.types?.[t]||l.types.info),s.typeCfg||{}),c=a(a({},l.classes),s.classes||{}),d=s.title??l.title??g(l,i.titleKey||`title.${t}`),y=n??"",k=`${t}:${d}:${y}`,w=Date.now();if(l.preventDuplicates){if(k===f&&w-b<l.duplicateWindowMs)return null;f=k,b=w}const h=p(l,l.position),v=Array.from(h.querySelectorAll("[data-ftoast]"));if(v.length>=l.maxToasts){const e=l.newestOnTop?v[v.length-1]:v[0];e?.dispatchEvent(new CustomEvent("ft:kill"))}const x=o(),$=document.createElement("div");$.dataset.ftoast="1",$.dataset.ftid=x,$.setAttribute("role","status"),$.setAttribute("aria-live","polite"),$.className=`${c.toastBase} ${i.ring||""} ${l.toastClass||""}`.trim();const L={id:x,type:t,title:d,message:y,opt:l,classes:c,typeCfg:i,t:(e,t)=>g(l,e,t),el:$,close:()=>$.dispatchEvent(new CustomEvent("ft:kill"))};$.innerHTML="function"==typeof l.template?l.template(L):function(t){const{classes:n,typeCfg:a}=t,o=e(t.t("close.aria")),s=a.iconHtml||"",l=Array.isArray(t.opt.actions)?t.opt.actions:[],i=l.length?`\n        <div class="mt-3 flex flex-wrap gap-2">\n          ${l.map(((a,o)=>{const r=e(a?.text??t.t("action.default")),s=a?.className?a.className:function(e,t){const n=e.btnBase||"",a=(t||"neutral").toLowerCase();return`${n} ${e.btn?.[a]||e.btn?.neutral||""}`.trim()}(n,a?.variant),l=a?.iconHtml?a.iconHtml:"";return`<button type="button" data-ftaction="${o}" class="${s}">\n                        ${l?`<span class="inline-flex">${l}</span>`:""}\n                        <span>${r}</span>\n                      </button>`})).join("")}\n        </div>\n      `:"";return`\n      <div class="${n.body}">\n        <div class="${n.row}">\n          <div class="${n.iconBoxBase} ${a.iconBox}">\n            ${s}\n          </div>\n\n          <div class="${n.content}">\n            <div class="${n.title}">${e(t.title)}</div>\n            <div class="${n.message}">${e(t.message)}</div>\n            ${i}\n          </div>\n\n          <button type="button" data-ftclose aria-label="${o}" class="${n.closeBtn}">\n            ${r.close}\n          </button>\n        </div>\n      </div>\n\n      ${t.opt.showProgress&&t.opt.duration>0?`\n        <div class="${n.progressTrack}">\n          <div data-ftbar class="${n.progressBarBase} ${a.progress||""}"></div>\n        </div>\n      `:""}\n    `}(L),l.newestOnTop?h.prepend($):h.appendChild($),requestAnimationFrame((()=>$.classList.add(...c.in.split(" "))));try{l.hooks?.onShow?.(L)}catch{}let E=!1,B=performance.now(),S=l.duration,C=null;const T=$.querySelector("[data-ftbar]");function A(e="close"){if(!E){E=!0,C&&cancelAnimationFrame(C),$.classList.remove(...c.in.split(" ")),$.classList.add(...c.out.split(" ")),setTimeout((()=>$.remove()),200);try{l.hooks?.onClose?.({...L,reason:e})}catch{}}}function q(e){if(E)return;const t=e-B,n=Math.max(0,S-t);if(T){const e=l.duration?n/l.duration:0;T.style.transform=`scaleX(${e})`}if(n<=0)return A("timeout");C=requestAnimationFrame(q)}return $.addEventListener("ft:kill",(()=>A("manual"))),$.querySelector("[data-ftclose]")?.addEventListener("click",(e=>{e.stopPropagation(),A("close_btn")})),$.querySelectorAll("[data-ftaction]").forEach((e=>{e.addEventListener("click",(t=>{t.stopPropagation();const n=Number(e.getAttribute("data-ftaction")),a=(Array.isArray(l.actions)?l.actions:[])[n];try{a?.onClick?.(L),l.hooks?.onAction?.({...L,action:a,actionIndex:n},t)}catch{}!1!==a?.close&&!1!==l.closeOnAction&&A("action")}))})),l.closeOnClick&&$.addEventListener("click",(e=>{try{l.hooks?.onClick?.(L,e)}catch{}A("click")})),l.pauseOnHover&&l.duration>0&&($.addEventListener("mouseenter",(function(){!l.duration||l.duration<=0||!C||(cancelAnimationFrame(C),C=null,S=Math.max(0,S-(performance.now()-B)))})),$.addEventListener("mouseleave",(function(){!l.duration||l.duration<=0||C||(B=performance.now(),C=requestAnimationFrame(q))}))),l.duration>0&&(C=requestAnimationFrame(q)),{id:x,el:$,close:()=>A("api")}}function w(e){e?.remove?.()}function h(t,{type:n="info",title:a,message:o}){u(t);const s=t.classes,l=t.types?.[n]||t.types.info,i=document.createElement("div");return i.className=s.modalWrap,i.dataset.ftmodal="1",i.innerHTML=`\n      <div class="${s.modalBackdrop}" data-ftmodal-backdrop></div>\n      <div class="${s.modalCard}">\n        <div class="${s.modalHeader}">\n          <div class="flex items-center gap-3">\n            <div class="${s.iconBoxBase} ${l.iconBox}">\n              ${l.iconHtml||""}\n            </div>\n\n            <div class="min-w-0">\n              <div class="${s.modalTitle}">${e(a)}</div>\n              <div class="${s.modalText}">${e(o)}</div>\n            </div>\n\n            <button class="ml-auto ${s.closeBtn}" data-ftmodal-close aria-label="${e(g(t,"close.aria"))}">\n              ${r.close}\n            </button>\n          </div>\n        </div>\n\n        <div class="${s.modalBody}" data-ftmodal-body></div>\n        <div class="${s.modalFooter}" data-ftmodal-footer></div>\n      </div>\n    `,document.body.appendChild(i),i}window.FToast={config:(e={})=>(m=a(m,e),u(m),m),setLang:e=>function(e,n){const a=t(n),o=l(e),r=e.storage?.key||"site_lang";return o&&o.setItem(r,a),e.lang=a,a}(m,e),getLang:()=>i(m),setTheme(e){const t=function(e,t){const a=n(t),o=c(e),r=e.themeStorage?.key||"site_theme";return o&&("auto"===a?o.removeItem(r):o.setItem(r,a)),e.theme=a,a}(m,e);return u(m),t},getTheme:()=>d(m),applyTheme:()=>u(m),addTranslations(e,n){const a=t(e);m.i18n[a]={...m.i18n[a]||{},...n||{}}},setType(e,t){m.types[e]=a(m.types[e]||{},t||{})},setClasses(e){m.classes=a(m.classes||{},e||{})},setTemplate(e){m.template=e},show:(e,t,n)=>k(e,t,n),success:(e,t)=>k("success",e,t),info:(e,t)=>k("info",e,t),warning:(e,t)=>k("warning",e,t),error:(e,t)=>k("error",e,t),alert(t,n={}){const o=a(a({},m),n),s=n.type||"info",l=o.types?.[s]||o.types.info,i=n.title??g(o,l.titleKey||`title.${s}`),c=n.okText||g(o,"dialog.ok"),d=n.okVariant||("error"===s?"danger":"warning"===s?"warning":s);return new Promise((n=>{const a=h(o,{type:s,title:i,message:t}),l=a.querySelector("[data-ftmodal-footer]"),u=a.querySelector("[data-ftmodal-close]"),g=a.querySelector("[data-ftmodal-backdrop]"),p=document.createElement("button");p.className=`${o.classes.btnBase} ${o.classes.btn?.[d]||o.classes.btn.info}`,p.innerHTML=`${r.check} <span>${e(c)}</span>`,l.appendChild(p);const m=()=>{w(a),n(!0)};p.addEventListener("click",m),u.addEventListener("click",m),g.addEventListener("click",m),window.addEventListener("keydown",(e=>{"Escape"===e.key&&m()}),{once:!0})}))},confirm(t,n={}){const o=a(a({},m),n),s=n.type||"warning",l=o.types?.[s]||o.types.warning||o.types.info,i=n.title??g(o,l.titleKey||`title.${s}`),c=n.okText||g(o,"dialog.yes"),d=n.cancelText||g(o,"dialog.cancel"),u=n.okVariant||"danger",p=n.cancelVariant||"outline";return new Promise((n=>{let a=!1;const l=h(o,{type:s,title:i,message:t}),g=l.querySelector("[data-ftmodal-footer]"),m=l.querySelector("[data-ftmodal-close]"),y=l.querySelector("[data-ftmodal-backdrop]"),f=document.createElement("button");f.className=`${o.classes.btnBase} ${o.classes.btn?.[p]||o.classes.btn.outline}`,f.innerHTML=`<span>${e(d)}</span>`;const b=document.createElement("button");b.className=`${o.classes.btnBase} ${o.classes.btn?.[u]||o.classes.btn.danger}`,b.innerHTML=`${r.check} <span>${e(c)}</span>`,g.appendChild(f),g.appendChild(b);const k=e=>{a=!0,w(l),n(e)};f.addEventListener("click",(()=>k(!1))),b.addEventListener("click",(()=>k(!0)));const v=()=>{a||k(!1)};m.addEventListener("click",v),y.addEventListener("click",v),window.addEventListener("keydown",(e=>{"Escape"===e.key&&v()}),{once:!0})}))},prompt(t,n={}){const s=a(a({},m),n),l=n.type||"info",i=s.types?.[l]||s.types.info,c=n.title??g(s,i.titleKey||`title.${l}`),d=n.okText||g(s,"dialog.ok"),u=n.cancelText||g(s,"dialog.cancel"),p=n.okVariant||"info",y=n.cancelVariant||"outline",f=n.placeholder??g(s,"prompt.placeholder"),b=n.initialValue??"";return new Promise((n=>{let a=!1;const i=h(s,{type:l,title:c,message:t}),g=i.querySelector("[data-ftmodal-body]"),m=i.querySelector("[data-ftmodal-footer]"),k=i.querySelector("[data-ftmodal-close]"),v=i.querySelector("[data-ftmodal-backdrop]"),x=`ftinp-${o()}`;g.innerHTML=`\n          <input id="${x}" value="${e(b)}" placeholder="${e(f)}"\n            class="w-full px-3 py-2 rounded-xl\n                   bg-gray-100 dark:bg-dark-700\n                   border border-gray-200 dark:border-dark-700\n                   outline-none focus:border-blurple-500\n                   text-sm text-gray-900 dark:text-gray-100" />\n        `;const $=document.createElement("button");$.className=`${s.classes.btnBase} ${s.classes.btn?.[y]||s.classes.btn.outline}`,$.innerHTML=`<span>${e(u)}</span>`;const L=document.createElement("button");L.className=`${s.classes.btnBase} ${s.classes.btn?.[p]||s.classes.btn.info}`,L.innerHTML=`${r.check} <span>${e(d)}</span>`,m.appendChild($),m.appendChild(L);const E=()=>document.getElementById(x),B=e=>{a=!0,w(i),n(e)};$.addEventListener("click",(()=>B(null))),L.addEventListener("click",(()=>B(E()?.value??""))),setTimeout((()=>{const e=E();e?.focus(),e?.addEventListener("keydown",(t=>{"Enter"===t.key&&B(e.value??"")}))}),0);const S=()=>{a||B(null)};k.addEventListener("click",S),v.addEventListener("click",S),window.addEventListener("keydown",(e=>{"Escape"===e.key&&S()}),{once:!0})}))},enableDialogHijack({alert:e=!0,confirm:t=!0,prompt:n=!0}={}){e&&(window.alert=e=>{this.alert(String(e))}),t&&(window.confirm=e=>this.confirm(String(e))),n&&(window.prompt=async(e,t="")=>await this.prompt(String(e),{initialValue:String(t??"")}))},clear(e=null){(e?[p(m,e)]:Array.from(document.querySelectorAll("[data-ftwrap]"))).forEach((e=>e.querySelectorAll("[data-ftoast]").forEach((e=>e.dispatchEvent(new CustomEvent("ft:kill"))))))}}})();